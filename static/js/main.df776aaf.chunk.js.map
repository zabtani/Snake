{"version":3,"sources":["components/Square.js","App.js","reportWebVitals.js","index.js","components/Square.module.css"],"names":["Square","props","sq","snakeHead","bodyPart","part","snakeBody","deg","stop","dir","style","transform","className","styles","square","headOnStop","head","food","on","w","h","initialFoodState","x","y","initialGameState","score","gameOver","initialSnakeState","App","randomInt","min","max","Math","floor","random","intervalRef","useRef","useState","snake","setSnake","direction","setDirection","setFood","gameState","setGameState","net","setNet","checkDeath","useCallback","slice","snakeOnCube","prevState","useEffect","interval","setInterval","current","clearInterval","n","i","push","callback","cube","onCube","forEach","cell","move","newSnake","randomLocation","ate","foodLocation","checkFood","pop","document","onkeydown","e","keyCode","checkBody","body","indexOf","map","toString","type","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.df776aaf.chunk.js","sourcesContent":["import styles from './Square.module.css';\r\nfunction Square(props) {\r\n  const snakeHead = props.bodyPart.part === 'head';\r\n  const snakeBody = props.bodyPart.part === 'body';\r\n  let sq;\r\n  if (snakeHead) {\r\n    let deg;\r\n    let stop = false;\r\n    switch (props.bodyPart.dir) {\r\n      case 37: //left\r\n        deg = '0';\r\n        break;\r\n      case 38: //up\r\n        deg = '90';\r\n        break;\r\n      case 39: //rigth\r\n        deg = '180';\r\n        break;\r\n      case 40: //down\r\n        deg = '270';\r\n        break;\r\n      case 'stop':\r\n        stop = true;\r\n        break;\r\n    }\r\n    sq = (\r\n      <div\r\n        style={{ transform: `rotate(${deg}deg)` }}\r\n        className={`${styles.square} ${\r\n          !stop ? styles.head : styles.headOnStop\r\n        }  `}\r\n      >\r\n        {stop && <span>Pause</span>}\r\n      </div>\r\n    );\r\n  } else if (props.food) {\r\n    sq = <div className={`${styles.square}  ${styles.food} `}></div>;\r\n  } else if (snakeBody) {\r\n    sq = <div className={`${styles.square} ${styles.on}`}> </div>;\r\n  } else {\r\n    sq = <div className={`${styles.square} `}></div>;\r\n  }\r\n\r\n  return <>{sq}</>;\r\n}\r\n\r\nexport default Square;\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport Square from './components/Square';\nconst w = 10;\nconst h = 20;\nconst initialFoodState = { x: 2, y: 7 };\nconst initialGameState = { score: 0, gameOver: false };\nconst initialSnakeState = [\n  { x: 0, y: 0 },\n  { x: 1, y: 0 },\n];\nfunction App() {\n  const randomInt = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  };\n  const intervalRef = useRef(() => {});\n  const [snake, setSnake] = useState(initialSnakeState);\n  const [direction, setDirection] = useState(39);\n  const [food, setFood] = useState(initialFoodState);\n  const [gameState, setGameState] = useState(initialGameState);\n  const [net, setNet] = useState([]);\n  const checkDeath = useCallback(() => {\n    const snakeBody = snake.slice(1);\n    const headHitBody = snakeOnCube(snake[0], snakeBody);\n    if (headHitBody) {\n      setDirection('stop');\n      setGameState((prevState) => {\n        return { score: prevState.score, gameOver: true };\n      });\n    }\n  }, [snake]);\n  useEffect(() => {\n    if (direction !== 'stop') {\n      checkDeath();\n      const interval = setInterval(() => {\n        intervalRef.current();\n      }, 80);\n      return () => clearInterval(interval);\n    }\n  }, [direction, checkDeath]);\n  useEffect(() => {\n    let n = [];\n    for (let i = 0; i < w; i++) {\n      for (let x = 0; x < h; x++) {\n        n.push({ x: i, y: x });\n      }\n    }\n    setNet(n);\n  }, []);\n  const snakeOnCube = (cube, part = snake) => {\n    let onCube = false;\n    part.forEach((cell) => {\n      if (cell.y === cube.y && cell.x === cube.x) onCube = true;\n    });\n    return onCube;\n  };\n  const checkFood = () => {\n    function randomLocation() {\n      return { x: randomInt(0, w - 1), y: randomInt(0, h - 1) };\n    }\n    let ate = false;\n    if (food.y === snake[0].y && food.x === snake[0].x) {\n      setGameState((prevState) => {\n        return { ...prevState, score: prevState.score + 10 };\n      });\n      let foodLocation = randomLocation();\n      while (snakeOnCube(foodLocation)) {\n        foodLocation = randomLocation();\n      }\n      setFood(foodLocation);\n      ate = true;\n    }\n    return ate;\n  };\n\n  const move = () => {\n    checkDeath();\n    let newSnake = [];\n    switch (direction) {\n      case 37: //left\n        newSnake.push({ y: (snake[0].y - 1 + h) % h, x: snake[0].x });\n        break;\n      case 38: //up\n        newSnake.push({ y: snake[0].y, x: (snake[0].x - 1 + w) % w });\n\n        break;\n      case 39: //right\n        newSnake.push({ y: (snake[0].y + 1 + h) % h, x: snake[0].x });\n        break;\n      case 40: //down\n        newSnake.push({ y: snake[0].y, x: (snake[0].x + 1 + w) % w });\n        break;\n      default:\n        return;\n    }\n    snake.forEach((cell) => {\n      newSnake.push(cell);\n    });\n    const ate = checkFood();\n    !ate && newSnake.pop();\n    setSnake([...newSnake]);\n  };\n  const loopPosition = (callback) => {\n    intervalRef.current = callback;\n  };\n  loopPosition(() => move());\n  const keyPress = (e) => {\n    const { keyCode } = e;\n    if (\n      (direction === 39 && keyCode === 37) ||\n      (direction === 37 && keyCode === 39) ||\n      (direction === 38 && keyCode === 40) ||\n      (direction === 40 && keyCode === 38)\n    ) {\n      return;\n    }\n    if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40) {\n      setDirection(keyCode);\n    } else if (keyCode === 32) {\n      setDirection('stop');\n    }\n  };\n  document.onkeydown = keyPress;\n  const checkBody = (cube) => {\n    let body = { part: false, dir: null };\n    snake.forEach((cell) => {\n      if (cube.y === cell.y && cube.x === cell.x) {\n        if (snake.indexOf(cell) === 0) {\n          body.part = 'head';\n          body.dir = direction;\n        } else {\n          body.part = 'body';\n        }\n      }\n    });\n    return body;\n  };\n  const restartHandler = () => {\n    setSnake(initialSnakeState);\n    setGameState(initialGameState);\n    setDirection(39);\n    setFood(initialFoodState);\n  };\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Snake Game</h1>\n        {!gameState.gameOver && (\n          <div className=\"infoCon\">\n            <p className=\"score\">Score: {gameState.score} </p>\n\n            <p>\n              {direction === 'stop'\n                ? 'Press arrow keys to continue'\n                : 'Press space bar to pause game'}\n            </p>\n          </div>\n        )}\n      </header>\n      {!gameState.gameOver && (\n        <div className=\"net\">\n          {net.map((cube) => {\n            return (\n              <Square\n                cube={cube}\n                key={Math.random().toString()}\n                bodyPart={checkBody(cube)}\n                food={food.y === cube.y && food.x === cube.x}\n              />\n            );\n          })}\n        </div>\n      )}\n      {gameState.gameOver && (\n        <div>\n          <h2>Game Over</h2>\n          <p>Oh no! you ate yourself.</p>\n          <button type=\"button\" onClick={restartHandler}>\n            Restart Game\n          </button>\n          <p className=\"score\">Your final Score: {gameState.score} </p>\n        </div>\n      )}\n      <footer>Game created by omer zabtani // React.js </footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"square\":\"Square_square__1Zg7r\",\"on\":\"Square_on__1AOmW\",\"food\":\"Square_food__1Fo-M\",\"head\":\"Square_head__195Dj\",\"headOnStop\":\"Square_headOnStop__2dvc6\"};"],"sourceRoot":""}